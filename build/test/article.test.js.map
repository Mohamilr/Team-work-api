{"version":3,"sources":["../../src/test/article.test.js"],"names":["chai","use","chaiHttp","should","describe","it","done","request","app","post","set","send","title","article","authorId","end","err","res","have","status","body","be","a","process","env","TEST_TOKEN","id","patch"],"mappings":"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","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\n\r\nimport app from '../server';\r\n\r\n// token\r\n// import token from './register.test';\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\ndescribe('articles', () => {\r\n    describe('create article', () => {\r\n        // error om wrong token\r\n        it('should give error on wrong token', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/articles')\r\n                .set('Authorization', `bearer wrong token`)\r\n                .send({\r\n                    title: 'my first official project',\r\n                    article: 'i was an intern at Hotels.ng. i worked with different teams and was assigned to different projects. it was a great experience to be a part of HNG internship 6.',\r\n                    authorId: 1\r\n                })\r\n                .end((err, res) => {\r\n                    res.should.have.status(403);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n\r\n\r\n        // error on empty body values\r\n        it('should give error on empty body values', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/articles')\r\n                .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n                .send({\r\n                    title: 'my first official project',\r\n                    article: '',\r\n                    authorId: 1\r\n                })\r\n                .end((err, res) => {\r\n                    res.should.have.status(400);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n\r\n\r\n        it('should create a new article', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/articles')\r\n                .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n                .send({\r\n                    title: 'my first official project',\r\n                    article: 'i was an intern at Hotels.ng. i worked with different teams and was assigned to different projects. it was a great experience to be a part of HNG internship 6.',\r\n                    authorId: 1\r\n                })\r\n                .end((err, res) => {\r\n                    res.should.have.status(201);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n\r\n    })\r\n\r\n\r\n\r\n    // test modify route\r\n    describe('PATCH modify article', () => {\r\n        // give error on wrong token\r\n        const id = 2;\r\n        it('should give an error on wrong token', (done) => {\r\n            chai.request(app)\r\n                .patch(`/api/v1/articles/${id}`)\r\n                .set('Authorization', `bearer wrong token`)\r\n                .send({\r\n                    title: 'vacation',\r\n                    article: 'i was an intern at Hotels.ng. i worked with different teams and was assigned to different projects. it was a great experience to be a part of HNG internship 6.'\r\n                })\r\n                .end((err, res) => {\r\n                    res.should.have.status(403);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n\r\n        // modify an article\r\n        it('should modify an article', (done) => {\r\n            chai.request(app)\r\n                .patch(`/api/v1/articles/${id}`)\r\n                .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n                .send({\r\n                    title: 'vacation',\r\n                    article: 'i was an intern at Hotels.ng. i worked with different teams and was assigned to different projects. it was a great experience to be a part of HNG internship 6.'\r\n                })\r\n                .end((err, res) => {\r\n                    res.should.have.status(200);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n    })\r\n\r\n\r\n    // test delete route\r\n    describe('delete article', () => {\r\n        // error on wrong token\r\n        const id = 2;\r\n        it('should delete an article', (done) => {\r\n            chai.request(app)\r\n                .delete(`/api/v1/articles/${id}`)\r\n                .set('Authorization', `bearer wrong token`)\r\n                .end((err, res) => {\r\n                    res.should.have.status(403);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n\r\n        // delete an article\r\n        it('should delete an article', (done) => {\r\n            chai.request(app)\r\n                .delete(`/api/v1/articles/${id}`)\r\n                .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n                .end((err, res) => {\r\n                    res.should.have.status(200);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n    })\r\n\r\n})"],"file":"article.test.js"}