{"version":3,"sources":["../../src/test/gif.test.js"],"names":["chai","use","chaiHttp","should","describe","skip","it","done","request","app","post","set","process","env","TEST_TOKEN","attach","fs","readFileSync","field","end","err","res","have","status","body","be","a","id"],"mappings":";;;;AAAA;;AACA;;AACA;;AAEA;;AAEA;AACAA,iBAAKC,GAAL,CAASC,oBAAT;;AACAF,iBAAKG,MAAL;;AAEAC,QAAQ,CAAC,WAAD,EAAc,YAAM;AACxB;AACAA,EAAAA,QAAQ,CAACC,IAAT,CAAc,YAAd,EAA4B,YAAM;AAC9B;AACAC,IAAAA,EAAE,CAAC,uCAAD,EAA0C,UAACC,IAAD,EAAU;AAClDP,uBAAKQ,OAAL,CAAaC,kBAAb,EACKC,IADL,CACU,cADV,EAEKC,GAFL,CAES,eAFT,mBAEoCC,OAAO,CAACC,GAAR,CAAYC,UAFhD,GAGKC,MAHL,CAGY,KAHZ,EAGmBC,eAAGC,YAAH,CAAgB,kDAAhB,CAHnB,EAGwF,SAHxF,EAIKC,KAJL,CAIW,UAJX,EAIuB,EAJvB,EAKKA,KALL,CAKW,aALX,EAK0B,CAL1B,EAMKC,GANL,CAMS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAAClB,MAAJ,CAAWmB,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACG,IAAJ,CAASrB,MAAT,CAAgBsB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACH,OATL;;AAUAnB,MAAAA,IAAI;AACP,KAZC,CAAF,CAF8B,CAgB9B;;AACAD,IAAAA,EAAE,CAAC,qCAAD,EAAwC,UAACC,IAAD,EAAU;AAChDP,uBAAKQ,OAAL,CAAaC,kBAAb,EACKC,IADL,CACU,cADV,EAEKC,GAFL,CAES,eAFT,wBAGKI,MAHL,CAGY,KAHZ,EAGmBC,eAAGC,YAAH,CAAgB,kDAAhB,CAHnB,EAGwF,SAHxF,EAIKC,KAJL,CAIW,UAJX,EAIuB,QAJvB,EAKKA,KALL,CAKW,aALX,EAK0B,CAL1B,EAMKC,GANL,CAMS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAAClB,MAAJ,CAAWmB,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACG,IAAJ,CAASrB,MAAT,CAAgBsB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACH,OATL;;AAUAnB,MAAAA,IAAI;AACP,KAZC,CAAF,CAjB8B,CA+B9B;;AACAD,IAAAA,EAAE,CAAC,mBAAD,EAAsB,UAACC,IAAD,EAAU;AAC9BP,uBAAKQ,OAAL,CAAaC,kBAAb,EACKC,IADL,CACU,cADV,EAEKC,GAFL,CAES,eAFT,mBAEoCC,OAAO,CAACC,GAAR,CAAYC,UAFhD,GAGKC,MAHL,CAGY,KAHZ,EAGmBC,eAAGC,YAAH,CAAgB,kDAAhB,CAHnB,EAGwF,SAHxF,EAIKC,KAJL,CAIW,UAJX,EAIuB,QAJvB,EAKKA,KALL,CAKW,aALX,EAK0B,CAL1B,EAMKC,GANL,CAMS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAAClB,MAAJ,CAAWmB,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACG,IAAJ,CAASrB,MAAT,CAAgBsB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACH,OATL;;AAUAnB,MAAAA,IAAI;AACP,KAZC,CAAF;AAaH,GA7CD,EAFwB,CAkDxB;;AACAH,EAAAA,QAAQ,CAAC,YAAD,EAAe,YAAM;AACzB,QAAMuB,EAAE,GAAG,CAAX,CADyB,CAGzB;;AACArB,IAAAA,EAAE,CAAC,qCAAD,EAAwC,UAACC,IAAD,EAAU;AAChDP,uBAAKQ,OAAL,CAAaC,kBAAb,mCAC4BkB,EAD5B,GAEKhB,GAFL,CAES,eAFT,wBAGKQ,GAHL,CAGS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAAClB,MAAJ,CAAWmB,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACG,IAAJ,CAASrB,MAAT,CAAgBsB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACH,OANL;;AAOAnB,MAAAA,IAAI;AACP,KATC,CAAF,CAJyB,CAezB;;AACAD,IAAAA,EAAE,CAAC,8BAAD,EAAiC,UAACC,IAAD,EAAU;AACzCP,uBAAKQ,OAAL,CAAaC,kBAAb,mCAC4BkB,EAD5B,GAEKhB,GAFL,CAES,eAFT,mBAEoCC,OAAO,CAACC,GAAR,CAAYC,UAFhD,GAGKK,GAHL,CAGS,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAAClB,MAAJ,CAAWmB,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACG,IAAJ,CAASrB,MAAT,CAAgBsB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACH,OANL;;AAOAnB,MAAAA,IAAI;AACP,KATC,CAAF;AAUH,GA1BO,CAAR;AA2BH,CA9EO,CAAR","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport fs from 'fs';\r\n\r\nimport app from '../server';\r\n\r\n// import token from './register.test';\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\ndescribe('gif route', () => {\r\n    // test POST\r\n    describe.skip('create gif', () => {\r\n        // error on empty body value\r\n        it('should give error on empty body value', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/gifs')\r\n                .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n                .attach('gif', fs.readFileSync('c:/Users/DAMILOLA/Desktop/DevCWithAndela/gif.gif'), 'gif.gif')\r\n                .field('gifTitle', '')\r\n                .field('gifAuthorId', 1)\r\n                .end((err, res) => {\r\n                    res.should.have.status(400);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n\r\n        // error on wrong token\r\n        it('should give an error on wrong token', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/gifs')\r\n                .set('Authorization', `bearer wrong token`)\r\n                .attach('gif', fs.readFileSync('c:/Users/DAMILOLA/Desktop/DevCWithAndela/gif.gif'), 'gif.gif')\r\n                .field('gifTitle', 'my gif')\r\n                .field('gifAuthorId', 1)\r\n                .end((err, res) => {\r\n                    res.should.have.status(403);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n\r\n        // test gif upload\r\n        it('should post a gif', (done) => {\r\n            chai.request(app)\r\n                .post('/api/v1/gifs')\r\n                .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n                .attach('gif', fs.readFileSync('c:/Users/DAMILOLA/Desktop/DevCWithAndela/gif.gif'), 'gif.gif')\r\n                .field('gifTitle', 'my gif')\r\n                .field('gifAuthorId', 1)\r\n                .end((err, res) => {\r\n                    res.should.have.status(201);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n    })\r\n\r\n\r\n    // test DELETE\r\n    describe('delete gif', () => {\r\n        const id = 2;\r\n\r\n        // error on wrong token\r\n        it('should give an error on wrong token', (done) => {\r\n            chai.request(app)\r\n                .delete(`/api/v1/gifs/${id}`)\r\n                .set('Authorization', `bearer wrong token`)\r\n                .end((err, res) => {\r\n                    res.should.have.status(403);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        });\r\n\r\n        // delete\r\n        it('should delete a selected gif', (done) => {\r\n            chai.request(app)\r\n                .delete(`/api/v1/gifs/${id}`)\r\n                .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n                .end((err, res) => {\r\n                    res.should.have.status(200);\r\n                    res.body.should.be.a('object');\r\n                })\r\n            done();\r\n        })\r\n    })\r\n})"],"file":"gif.test.js"}