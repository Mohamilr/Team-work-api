{"version":3,"sources":["../../src/test/articleMiddleware.test.js"],"names":["chai","use","chaiHttp","should","describe","id","it","done","request","app","post","set","process","env","TEST_TOKEN","send","title","article","authorId","end","err","res","have","status","body","be","a","patch"],"mappings":"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","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\n\r\nimport app from '../server';\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\ndescribe('articleMiddleware', () => {\r\n    describe('POST and PATCH', () => {\r\n        const id = 1;\r\n        // post\r\n        it('should give an error if title length is less than 5', (done) => {\r\n            chai.request(app)\r\n            .post('/api/v1/articles')\r\n            .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n            .send({\r\n                title: 'a ',\r\n                article: 'i was an intern at Hotels.ng. i worked with different teams and was assigned to different projects. it was a great experience to be a part of HNG internship 6.',\r\n                authorId: 1\r\n            })\r\n            .end((err, res) => {\r\n                res.should.have.status(400);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n\r\n        // \r\n        it('should give an error if article length is less than 100', (done) => {\r\n            chai.request(app)\r\n            .post('/api/v1/articles')\r\n            .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n            .send({\r\n                title: 'my first article',\r\n                article: 'i was an intern at Hotels.ng.',\r\n                authorId: 1\r\n            })\r\n            .end((err, res) => {\r\n                res.should.have.status(400);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n\r\n        // patch\r\n        it('should give an error if input length is less than 5', (done) => {\r\n            chai.request(app)\r\n            .patch(`/api/v1/articles/${id}`)\r\n            .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n            .send({\r\n                title: 'a ',\r\n                article: 'i was an intern at Hotels.ng. i worked with different teams and was assigned to different projects. it was a great experience to be a part of HNG internship 6.',\r\n                authorId: 1\r\n            })\r\n            .end((err, res) => {\r\n                res.should.have.status(400);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n\r\n        // \r\n        it('should give an error if input length is less than 5', (done) => {\r\n            chai.request(app)\r\n            .patch(`/api/v1/articles/${id}`)\r\n            .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n            .send({\r\n                title: 'my first article',\r\n                article: 'i was an intern at Hotels.ng. ',\r\n                authorId: 1\r\n            })\r\n            .end((err, res) => {\r\n                res.should.have.status(400);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n    })\r\n})"],"file":"articleMiddleware.test.js"}