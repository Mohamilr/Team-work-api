{"version":3,"sources":["../../src/test/get.test.js"],"names":["chai","use","chaiHttp","should","describe","it","done","request","app","get","set","end","err","res","have","status","body","be","a","process","env","TEST_TOKEN","id"],"mappings":"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","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\n\r\nimport app from '../server';\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\ndescribe('GET', () => {\r\n    describe('GET feed', () => {\r\n        // error on wrong token\r\n        it('should give an error on wrong token', (done) => {\r\n            chai.request(app)\r\n            .get('/api/v1/feed')\r\n            .set('Authorization', `bearer wrong token`)\r\n            .end((err, res) => {\r\n                res.should.have.status(403);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n\r\n        // no feed available\r\n        // it('should give an error if there are no feeds', (done) => {\r\n        //     chai.request(app)\r\n        //     .get('/api/v1/feed')\r\n        //     .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n        //     .end((err, res) => {\r\n        //         res.should.have.status(400);\r\n        //         res.body.should.be.a('object');\r\n        //     })\r\n        //     done();\r\n        // })\r\n\r\n\r\n        // get all feeds\r\n        it('should get all articles and gif', (done) => {\r\n            chai.request(app)\r\n            .get('/api/v1/feed')\r\n            .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n            .end((err, res) => {\r\n                res.should.have.status(200);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n    })\r\n\r\n\r\n    // test get single article\r\n    describe('GET single article', () => {\r\n        const id = 1;\r\n        // error on wrong token\r\n        it('should give an error on wrong token', (done) => {\r\n            chai.request(app)\r\n            .get(`/api/v1/articles/${id}`)\r\n            .set('Authorization', `bearer wrong token`)\r\n            .end((err, res) => {\r\n                res.should.have.status(403);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n\r\n\r\n        // get a single article\r\n        it('should get a single article', (done) => {\r\n            chai.request(app)\r\n            .get(`/api/v1/articles/${id}`)\r\n            .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n            .end((err, res) => {\r\n                res.should.have.status(200);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n    })\r\n\r\n\r\n    // test get single gif\r\n    describe('GET single gif', () => {\r\n        const id = 1;\r\n        // error on wrong token\r\n        it('should give an error on wrong token', (done) => {\r\n            chai.request(app)\r\n            .get(`/api/v1/gifs/${id}`)\r\n            .set('Authorization', `bearer wrong token`)\r\n            .end((err, res) => {\r\n                res.should.have.status(403);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n\r\n        // get a single gif\r\n        it('should give an error on wrong token', (done) => {\r\n            chai.request(app)\r\n            .get(`/api/v1/gifs/${id}`)\r\n            .set('Authorization', `bearer ${process.env.TEST_TOKEN}`)\r\n            .end((err, res) => {\r\n                res.should.have.status(200);\r\n                res.body.should.be.a('object');\r\n            })\r\n            done();\r\n        })\r\n    })\r\n})"],"file":"get.test.js"}